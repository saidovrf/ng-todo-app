<!DOCTYPE html>
<html lang="en" ng-app="ToDoApp">
<head>
	<meta charset="UTF-8">
	<title>AngularJS ToDo App</title>
	
	<link rel="stylesheet" type="text/css" href="css/common.min.css">

	<script type="text/javascript" src="js/common.min.js"></script>
</head>
<body ng-controller="CommonCtrl as vm">
	<ul ng-repeat="(key, value) in vm.todos">
		<li>
			<h2>{{value.title}}</h2>
			<p>{{value.text}}</p>
			<a href="#" ng-click="vm.editTask(key)">Change</a>
			<a href="#" ng-click="vm.removeTask(key)">Remove</a>
		</li>
	</ul>

	<input type="text" name="title" ng-model="vm.todo.title">
	<input type="text" name="text" ng-model="vm.todo.text">
	<button ng-click="vm.addTask()" ng-disabled="(!vm.todo.title || !vm.todo.text)" ng-show="(vm.change_id === null)">Add task</button>
	<button ng-click="vm.changeTask()" ng-disabled="(!vm.todo.title || !vm.todo.text)" ng-show="(vm.change_id !== null)">Finish edit</button>
</body>
</html>